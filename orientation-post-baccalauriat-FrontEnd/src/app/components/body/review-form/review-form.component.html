<div class="review-form-container">
  <form [formGroup]="reviewForm" (ngSubmit)="onSubmit()">

    <div class="form-group">
      <label for="rating">Note</label>
      <p-rating id="rating" formControlName="rating" [cancel]="false" stars="5"></p-rating>
      <div *ngIf="reviewForm.get('rating')?.invalid && reviewForm.get('rating')?.touched" class="text-danger">
        La note est requise
      </div>
    </div>

    <div class="form-group">
      <label for="comment">Commentaire</label>
      <textarea
        id="comment"
        formControlName="comment"
        class="form-control"
        placeholder="Laissez votre commentaire"
        [ngClass]="{'is-invalid': reviewForm.get('comment')?.invalid && reviewForm.get('comment')?.touched}"
      ></textarea>
      <div *ngIf="reviewForm.get('comment')?.invalid && reviewForm.get('comment')?.touched" class="text-danger">
        Le commentaire est requis
      </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="reviewForm.invalid">
      Soumettre l'avis
    </button>

  </form>

  <!-- Debug -->
  <div *ngIf="!reviewForm.valid" class="text-danger">
    Veuillez remplir tous les champs avant de soumettre.
  </div>
</div>
